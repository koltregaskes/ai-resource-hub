---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getProviders, getBenchmarks } from '../../db/queries';

const rawBase = import.meta.env.BASE_URL;
const base = rawBase.endsWith('/') ? rawBase : `${rawBase}/`;

const providers = getProviders();
const benchmarks = getBenchmarks();
---

<BaseLayout
  title="Methodology — How We Score AI Models — The AI Resource Hub"
  description="Transparent methodology for how The AI Resource Hub scores, ranks, and compares AI models. Data sources, scoring formula, and update frequency."
>
  <section class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8 sm:py-12">
    <nav class="text-xs text-(--color-text-muted) mb-4" aria-label="Breadcrumb">
      <a href={base} class="hover:text-(--color-text-secondary) transition-colors">Home</a>
      <span class="mx-2">/</span>
      <span class="text-(--color-text-secondary)">Methodology</span>
    </nav>

    <div class="mb-8">
      <h1 class="text-3xl sm:text-4xl font-extrabold text-(--color-text-primary) mb-3">
        Methodology
      </h1>
      <p class="text-(--color-text-secondary) max-w-2xl">
        How we score, rank, and compare AI models. Full transparency on our data sources, scoring methodology, and update frequency.
      </p>
    </div>

    <!-- Independence -->
    <div class="p-5 rounded-xl bg-(--color-accent)/10 border border-(--color-accent)/20 mb-8">
      <h2 class="text-sm font-semibold text-(--color-accent) mb-2">Independence Statement</h2>
      <p class="text-sm text-(--color-text-secondary)">
        The AI Resource Hub is <strong>fully independent</strong>. We are not affiliated with, sponsored by, or funded by any AI provider. We do not accept payment for rankings or reviews. Our goal is to provide accurate, unbiased data to help you make informed decisions.
      </p>
    </div>

    <!-- Data Sources -->
    <div class="mb-10">
      <h2 class="text-xl font-bold text-(--color-text-primary) mb-4">Data Sources</h2>
      <p class="text-sm text-(--color-text-secondary) mb-4">
        We maintain a public record of every external source used to build and update this site. If you spot a source that should be added or corrected, please open an issue on our <a href="https://github.com/koltregaskes/ai-resource-hub" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">GitHub repository</a>.
      </p>
      <div class="space-y-4">

        {/* Pricing */}
        <div class="p-4 rounded-xl bg-(--color-bg-card) border border-(--color-border)">
          <div class="flex items-center justify-between mb-2">
            <h3 class="font-semibold text-(--color-text-primary)">Model Pricing</h3>
            <span class="text-xs px-2 py-0.5 rounded-full bg-(--color-accent)/15 text-(--color-accent)">Daily</span>
          </div>
          <ul class="text-sm text-(--color-text-secondary) space-y-1.5">
            <li><a href="https://openrouter.ai/api/v1/models" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">OpenRouter API</a> — primary pricing source; 500+ models, 8 pricing dimensions (prompt, completion, image, request, cache read/write, web search, internal reasoning). Scraped daily via GitHub Actions.</li>
            <li><a href="https://openai.com/api/pricing" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">OpenAI API Pricing</a> — cross-reference for GPT and o-series models</li>
            <li><a href="https://www.anthropic.com/pricing" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">Anthropic Pricing</a> — cross-reference for Claude models</li>
            <li><a href="https://ai.google.dev/pricing" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">Google AI Pricing</a> — cross-reference for Gemini models</li>
            <li><a href="https://docs.mistral.ai/getting-started/pricing/" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">Mistral Pricing</a> — cross-reference for Mistral models</li>
          </ul>
        </div>

        {/* Benchmark scores */}
        <div class="p-4 rounded-xl bg-(--color-bg-card) border border-(--color-border)">
          <div class="flex items-center justify-between mb-2">
            <h3 class="font-semibold text-(--color-text-primary)">Benchmark Scores</h3>
            <span class="text-xs px-2 py-0.5 rounded-full bg-(--color-accent)/15 text-(--color-accent)">As published</span>
          </div>
          <p class="text-sm text-(--color-text-secondary) mb-2">
            We track {benchmarks.length} benchmarks across general intelligence, coding, math, reasoning, safety, agent capabilities, domain-specific, multilingual, and multimodal categories. Scores are sourced from:
          </p>
          <ul class="text-sm text-(--color-text-secondary) space-y-1.5">
            <li>Official model technical reports and blog posts (OpenAI, Anthropic, Google DeepMind, Meta, Mistral, etc.)</li>
            <li><a href="https://paperswithcode.com/sota" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">Papers With Code — State of the Art</a> — aggregated benchmark leaderboards</li>
            <li><a href="https://arxiv.org" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">arXiv preprints</a> — research papers reporting model evaluations</li>
            <li><a href="https://huggingface.co/spaces/open-llm-leaderboard/open_llm_leaderboard" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">HuggingFace Open LLM Leaderboard</a> — standardised evals for open-weight models</li>
            <li><a href="https://crfm.stanford.edu/helm/" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">Stanford HELM</a> — holistic evaluation of language models</li>
            <li><a href="https://epoch.ai/benchmarks" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">Epoch AI Benchmarks</a> — benchmark results evaluated internally and collected from external sources, with historical trend data</li>
            <li><a href="https://livebench.ai" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">LiveBench</a> — contamination-free benchmark with monthly question refresh; covers math, coding, reasoning, data analysis, instruction following</li>
            <li><a href="https://arcprize.org" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">ARC Prize / ARC-AGI</a> — abstract reasoning benchmark measuring fluid intelligence; adopted by Anthropic, Google DeepMind, OpenAI, and xAI in model cards</li>
            <li><a href="https://www.swebench.com" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">SWE-bench</a> — real-world GitHub issue resolution benchmark for software engineering capability</li>
            <li><a href="https://github.com/bigcode-project/bigcodebench" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">BigCodeBench</a> — code generation benchmark with complex instructions and diverse function calls</li>
            <li><a href="https://github.com/openai/human-eval" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">HumanEval (OpenAI)</a>, <a href="https://github.com/google-deepmind/math_dataset" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">MATH (DeepMind)</a>, <a href="https://github.com/hendrycks/test" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">MMLU</a>, <a href="https://github.com/idavidrein/gpqa" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">GPQA</a> — individual benchmark repositories</li>
          </ul>
        </div>

        {/* Community ratings */}
        <div class="p-4 rounded-xl bg-(--color-bg-card) border border-(--color-border)">
          <div class="flex items-center justify-between mb-2">
            <h3 class="font-semibold text-(--color-text-primary)">Community &amp; Consensus Ratings</h3>
            <span class="text-xs px-2 py-0.5 rounded-full bg-(--color-accent)/15 text-(--color-accent)">As published</span>
          </div>
          <ul class="text-sm text-(--color-text-secondary) space-y-1.5">
            <li><a href="https://lmarena.ai" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">LMSYS Chatbot Arena</a> — crowdsourced Elo ratings from 5M+ human preference votes; informs community consensus factor in quality scores</li>
            <li><a href="https://artificialanalysis.ai" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">Artificial Analysis</a> — real-time speed and quality benchmarks; referenced for speed data and Intelligence Index rankings</li>
            <li><a href="https://scale.com/leaderboard" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">Scale AI SEAL</a> — expert-driven evaluations and safety benchmarks</li>
          </ul>
        </div>

        {/* Research & trend data */}
        <div class="p-4 rounded-xl bg-(--color-bg-card) border border-(--color-border)">
          <div class="flex items-center justify-between mb-2">
            <h3 class="font-semibold text-(--color-text-primary)">Research &amp; Trend Data</h3>
            <span class="text-xs px-2 py-0.5 rounded-full bg-(--color-accent)/15 text-(--color-accent)">Ongoing</span>
          </div>
          <ul class="text-sm text-(--color-text-secondary) space-y-1.5">
            <li><a href="https://epoch.ai/data" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">Epoch AI</a> — largest public database of notable ML models (3,200+ from 1950–present); training compute estimates, parameter counts, training costs. <a href="https://epoch.ai/data/notable-ai-models" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">Notable AI Models database</a> tracks 900+ models chosen for historical significance. CC-BY licensed.</li>
            <li><a href="https://hai.stanford.edu/ai-index" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">Stanford HAI AI Index</a> — annual comprehensive report tracking AI across technical, economic, and societal dimensions; referenced for industry-wide statistics and trends</li>
            <li><a href="https://ourworldindata.org/artificial-intelligence" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">Our World in Data — AI</a> — interactive visualisations of AI model counts, compute growth, and country-level trends (primarily sourced from Epoch AI data)</li>
          </ul>
        </div>

        {/* Safety & frontier evaluations */}
        <div class="p-4 rounded-xl bg-(--color-bg-card) border border-(--color-border)">
          <div class="flex items-center justify-between mb-2">
            <h3 class="font-semibold text-(--color-text-primary)">Safety &amp; Frontier Evaluations</h3>
            <span class="text-xs px-2 py-0.5 rounded-full bg-(--color-accent)/15 text-(--color-accent)">As published</span>
          </div>
          <ul class="text-sm text-(--color-text-secondary) space-y-1.5">
            <li><a href="https://metr.org" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">METR (Model Evaluation &amp; Threat Research)</a> — nonprofit evaluating frontier AI models for autonomous capabilities; publishes task completion time horizons and RE-Bench. Pre-deployment evaluator for OpenAI and Anthropic.</li>
            <li><a href="https://www.aisi.gov.uk" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">UK AI Security Institute (AISI)</a> — has evaluated 30+ frontier models since 2023 across cyber, biology, and autonomy domains; publishes the <a href="https://www.aisi.gov.uk/frontier-ai-trends-report" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">Frontier AI Trends Report</a></li>
            <li><a href="https://www.apolloresearch.ai" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">Apollo Research</a> — AI safety evaluations focused on scheming, deception detection, and interpretability; collaborates with AISI and frontier labs</li>
          </ul>
        </div>

        {/* Model discovery */}
        <div class="p-4 rounded-xl bg-(--color-bg-card) border border-(--color-border)">
          <div class="flex items-center justify-between mb-2">
            <h3 class="font-semibold text-(--color-text-primary)">Model Discovery &amp; New Releases</h3>
            <span class="text-xs px-2 py-0.5 rounded-full bg-(--color-accent)/15 text-(--color-accent)">Weekly</span>
          </div>
          <ul class="text-sm text-(--color-text-secondary) space-y-1.5">
            <li><a href="https://huggingface.co/Presidentlin/collections" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">HuggingFace — Presidentlin's Collections</a> — weekly curated "AI Release Week Thread" collections tracking every notable model, dataset, and paper release across the HuggingFace ecosystem</li>
            <li><a href="https://huggingface.co/models?sort=created" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">HuggingFace Model Hub</a> — model cards for open-weight models; parameter counts, licences, release dates</li>
            <li>Official provider announcements and release blogs (OpenAI, Anthropic, Google, Meta, Mistral, xAI, etc.)</li>
          </ul>
        </div>

        {/* Provider information */}
        <div class="p-4 rounded-xl bg-(--color-bg-card) border border-(--color-border)">
          <div class="flex items-center justify-between mb-2">
            <h3 class="font-semibold text-(--color-text-primary)">Provider &amp; Company Information</h3>
            <span class="text-xs px-2 py-0.5 rounded-full bg-(--color-accent)/15 text-(--color-accent)">As announced</span>
          </div>
          <p class="text-sm text-(--color-text-secondary) mb-2">Currently tracking {providers.length} AI providers. Company data is sourced from:</p>
          <ul class="text-sm text-(--color-text-secondary) space-y-1.5">
            <li>Official company websites, about pages, and investor relations sections</li>
            <li>Press releases, funding announcements, and SEC filings</li>
            <li>Verified reporting from TechCrunch, Reuters, The Information, Bloomberg, and Financial Times</li>
            <li><a href="https://www.crunchbase.com" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">Crunchbase</a> — funding rounds and company details</li>
          </ul>
        </div>

        {/* News */}
        <div class="p-4 rounded-xl bg-(--color-bg-card) border border-(--color-border)">
          <div class="flex items-center justify-between mb-2">
            <h3 class="font-semibold text-(--color-text-primary)">News &amp; Articles</h3>
            <span class="text-xs px-2 py-0.5 rounded-full bg-(--color-accent)/15 text-(--color-accent)">Daily</span>
          </div>
          <p class="text-sm text-(--color-text-secondary) mb-2">News is aggregated daily via our News Scout system and imported from digest files. Sources include:</p>
          <ul class="text-sm text-(--color-text-secondary) space-y-1.5">
            <li>TechCrunch AI, Reuters Technology, The Verge, Ars Technica, VentureBeat AI</li>
            <li>AI-specialist publications: The Decoder, Import AI (Jack Clark), Interconnects (Nathan Lambert)</li>
            <li>Provider engineering blogs: OpenAI, Anthropic, Google DeepMind, Meta AI Research</li>
            <li>arXiv paper announcements (cs.AI, cs.LG, cs.CL)</li>
          </ul>
          <p class="text-xs text-(--color-text-muted) mt-2">Updated: Daily at 06:00 UTC via GitHub Actions</p>
        </div>

        {/* People */}
        <div class="p-4 rounded-xl bg-(--color-bg-card) border border-(--color-border)">
          <div class="flex items-center justify-between mb-2">
            <h3 class="font-semibold text-(--color-text-primary)">People &amp; Key Figures</h3>
            <span class="text-xs px-2 py-0.5 rounded-full bg-(--color-accent)/15 text-(--color-accent)">As announced</span>
          </div>
          <ul class="text-sm text-(--color-text-secondary) space-y-1.5">
            <li>Official bios and LinkedIn profiles</li>
            <li>Wikipedia for public figures with verified career histories</li>
            <li>X/Twitter profiles for roles and affiliations</li>
            <li>Published interviews, podcasts, and conference talks</li>
          </ul>
        </div>

        {/* Tools */}
        <div class="p-4 rounded-xl bg-(--color-bg-card) border border-(--color-border)">
          <div class="flex items-center justify-between mb-2">
            <h3 class="font-semibold text-(--color-text-primary)">AI Tools Directory</h3>
            <span class="text-xs px-2 py-0.5 rounded-full bg-(--color-accent)/15 text-(--color-accent)">Curated</span>
          </div>
          <ul class="text-sm text-(--color-text-secondary) space-y-1.5">
            <li>Official product websites and documentation</li>
            <li><a href="https://www.producthunt.com/topics/artificial-intelligence" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">Product Hunt — AI</a> — discovery of new AI tools</li>
            <li>Editorial curation by The AI Resource Hub team</li>
          </ul>
        </div>

      </div>
    </div>

    <!-- Quality Score -->
    <div class="mb-10">
      <h2 class="text-xl font-bold text-(--color-text-primary) mb-4">Quality Score</h2>
      <p class="text-sm text-(--color-text-secondary) mb-4">
        Each model receives a <strong>quality score</strong> from 0–100 based on a weighted combination of factors:
      </p>
      <div class="rounded-xl border border-(--color-border) bg-(--color-bg-card) overflow-hidden">
        <table class="w-full text-sm">
          <thead>
            <tr class="border-b border-(--color-border)">
              <th class="text-left py-3 px-4 text-(--color-text-muted) font-medium">Factor</th>
              <th class="text-left py-3 px-4 text-(--color-text-muted) font-medium">Weight</th>
              <th class="text-left py-3 px-4 text-(--color-text-muted) font-medium">Source</th>
            </tr>
          </thead>
          <tbody>
            <tr class="border-b border-(--color-border)/50">
              <td class="py-3 px-4 text-(--color-text-primary)">Benchmark performance (avg across available benchmarks)</td>
              <td class="py-3 px-4 text-(--color-text-secondary)">40%</td>
              <td class="py-3 px-4 text-(--color-text-muted) text-xs">MMLU, GPQA, HumanEval, MATH, etc.</td>
            </tr>
            <tr class="border-b border-(--color-border)/50">
              <td class="py-3 px-4 text-(--color-text-primary)">Capability breadth (modalities, tools, features)</td>
              <td class="py-3 px-4 text-(--color-text-secondary)">20%</td>
              <td class="py-3 px-4 text-(--color-text-muted) text-xs">Official documentation</td>
            </tr>
            <tr class="border-b border-(--color-border)/50">
              <td class="py-3 px-4 text-(--color-text-primary)">Context window and output capacity</td>
              <td class="py-3 px-4 text-(--color-text-secondary)">15%</td>
              <td class="py-3 px-4 text-(--color-text-muted) text-xs">API specifications</td>
            </tr>
            <tr class="border-b border-(--color-border)/50">
              <td class="py-3 px-4 text-(--color-text-primary)">Community and expert consensus</td>
              <td class="py-3 px-4 text-(--color-text-secondary)">15%</td>
              <td class="py-3 px-4 text-(--color-text-muted) text-xs">Arena Elo, community feedback</td>
            </tr>
            <tr>
              <td class="py-3 px-4 text-(--color-text-primary)">Recency and update status</td>
              <td class="py-3 px-4 text-(--color-text-secondary)">10%</td>
              <td class="py-3 px-4 text-(--color-text-muted) text-xs">Release date, active status</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <!-- Value Score -->
    <div class="mb-10">
      <h2 class="text-xl font-bold text-(--color-text-primary) mb-4">Value Score</h2>
      <p class="text-sm text-(--color-text-secondary) mb-3">
        The <strong>value score</strong> measures quality-per-dollar — how much capability you get for your money. Calculated as:
      </p>
      <div class="p-4 rounded-xl bg-(--color-bg-card) border border-(--color-border) font-mono text-sm text-(--color-accent) text-center">
        Value Score = (Quality Score / Blended Price) &times; 10
      </div>
      <p class="text-sm text-(--color-text-secondary) mt-3">
        Where <strong>blended price</strong> uses a 3:1 output-to-input ratio: <code>(input_price + 3 &times; output_price) / 4</code>. This ratio reflects typical API usage patterns where output tokens cost more and represent 75% of total spend.
      </p>
    </div>

    <!-- Update Frequency -->
    <div class="mb-10">
      <h2 class="text-xl font-bold text-(--color-text-primary) mb-4">Update Frequency</h2>
      <div class="grid sm:grid-cols-2 gap-3">
        <div class="p-4 rounded-xl bg-(--color-bg-card) border border-(--color-border)">
          <h3 class="font-semibold text-(--color-text-primary) text-sm">Daily (Automated)</h3>
          <ul class="text-xs text-(--color-text-secondary) mt-2 space-y-1 list-disc list-inside">
            <li>API pricing from OpenRouter</li>
            <li>News digest import</li>
            <li>Site rebuild and deployment</li>
          </ul>
        </div>
        <div class="p-4 rounded-xl bg-(--color-bg-card) border border-(--color-border)">
          <h3 class="font-semibold text-(--color-text-primary) text-sm">As Published</h3>
          <ul class="text-xs text-(--color-text-secondary) mt-2 space-y-1 list-disc list-inside">
            <li>New model releases</li>
            <li>Benchmark scores</li>
            <li>Provider information changes</li>
            <li>People, tools, and content</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Limitations -->
    <div class="mb-10">
      <h2 class="text-xl font-bold text-(--color-text-primary) mb-4">Limitations</h2>
      <ul class="text-sm text-(--color-text-secondary) space-y-2 list-disc list-inside">
        <li><strong>Benchmarks have known issues</strong> — data contamination, narrow evaluation, and saturation effects mean no single benchmark tells the full story. We use multiple benchmarks and flag known issues.</li>
        <li><strong>Pricing changes frequently</strong> — AI model pricing can change without notice. We update daily but prices may lag by up to 24 hours.</li>
        <li><strong>Speed data is limited</strong> — we track relative speed ratings rather than real-time latency measurements. For production speed data, we recommend <a href="https://artificialanalysis.ai" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">Artificial Analysis</a>.</li>
        <li><strong>Coverage is curated</strong> — we focus on models available via API and major consumer products. Some niche or regional models may not be listed.</li>
        <li><strong>Quality scores are editorial</strong> — while based on benchmark data, final quality scores involve editorial judgement. See our scoring breakdown above for transparency.</li>
      </ul>
    </div>

    <!-- Corrections -->
    <div class="p-5 rounded-xl bg-(--color-bg-card) border border-(--color-border)">
      <h2 class="text-sm font-semibold text-(--color-accent) mb-2">Found an Error?</h2>
      <p class="text-sm text-(--color-text-secondary)">
        If you spot incorrect data, outdated pricing, or missing models, please open an issue on our <a href="https://github.com/koltregaskes/ai-resource-hub" target="_blank" rel="noopener noreferrer" class="text-(--color-accent) hover:text-(--color-accent-hover)">GitHub repository</a>. We take accuracy seriously and will update within 24 hours of verified corrections.
      </p>
    </div>
  </section>
</BaseLayout>
